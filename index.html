 <!DOCTYPE html>
<html lang="en">
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-script-type" content="text/javascript">
    <meta http-equiv="content-style-type" content="text/css">
    <meta name="description" content="This is the online markdown editor with live preview.">
    <link rel="stylesheet" type="text/css" href="news-extractor.css">
    <link rel="icon" type="image/png" href="https://github.com/favicon.ico">
    <title>Markdown Live Preview</title>
  </head>
  <body>
    <header>
      <div id="menu-items">
        <div><a href="/">Markdown Live Preview</a></div>
        <div id="reset-button"><a href="#">Reset</a></div>
        <div id="copy-button"><a href="#">Copy</a></div>
        <div id="sync-button"><input type="checkbox" id="sync-scroll-checkbox"><label for="sync-scroll-checkbox">Sync scroll</label></div>
      </div>
      <div id="github"><a href="https://github.com/tanabe/markdown-live-preview"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" width="32" height="32" alt="GitHub"></a></div>
    </header>

    <!-- Controls above split frame -->
    <div id="top-controls">
      <div id="status" style="color: #c00; font-size: 1em; min-height: 1.2em; margin-bottom: 0.3em;"></div>
      <div class="url-row">
        <input id="input-url" type="text" placeholder="Paste article URL here" />
        <button id="fetch-article">Fetch</button>
        <button id="clear-data" type="button" style="margin-left:0.5em;">Clear Data</button>
      </div>
      <input id="title-box" type="text" placeholder="Article Title" style="margin-bottom:0.5rem;" readonly />
      <div id="editor-toolbar" style="display: flex; align-items: center;">
        <div style="display: flex; align-items: center; flex: 1;">
          <div class="mode-switch" style="margin-right:1rem;">
            <label><input type="radio" name="mode" value="markdown" checked> Markdown</label>
            <label><input type="radio" name="mode" value="html"> HTML</label>
          </div>
          <button type="button" data-action="bold"><b>B</b></button>
          <button type="button" data-action="italic"><i>I</i></button>
          <button type="button" data-action="heading">H</button>
          <button type="button" data-action="link">üîó</button>
          <button type="button" data-action="image">üñºÔ∏è</button>
          <button type="button" data-action="code" id="code-btn">&lt;/&gt;</button>
          <div id="theme-switcher" style="display: flex; align-items: center; margin-left: 1rem; gap: 0.5em;">
            <label style="display: flex; align-items: center; gap: 0.2em;">
              <input type="radio" name="theme-mode" id="theme-light" value="light"> Light
            </label>
            <label style="display: flex; align-items: center; gap: 0.2em;">
              <input type="radio" name="theme-mode" id="theme-dark" value="dark"> Dark
            </label>
          </div>
          <div id="progress-bar-container" style="width: 120px; height: 8px; background: #eee; border-radius: 4px; overflow: hidden; margin-left: 1rem; display: flex; align-items: center;">
            <span id="progress-label" style="margin-right: 0.7em; min-width: 90px; color: #fff; font-size: 0.95em; display: inline-block;">Idle</span>
            <div id="progress-bar" style="height: 100%; width: 0; background: linear-gradient(90deg,#4e8cff,#1e3a8a); transition: width 0.2s;"></div>
            <button id="copy-title-btn" type="button" style="margin-left:1rem; height: 22px; font-size: 0.95em;">Copy Title</button>
            <button id="copy-content-btn" type="button" style="margin-left:10px; height: 22px; font-size: 0.95em;">Copy Content</button>
          </div>
        </div>
      </div>
    </div>
    <div id="container" class="split-container">
      <div id="edit" class="column editor-pane">
        <div id="editor-wrapper">
          <textarea id="editor" placeholder="Write your markdown or HTML here..." required></textarea>
          <div id="editor-error" style="color:red;display:none;font-size:0.95em;margin-top:4px;"></div>
        </div>
      </div>
      <div id="split-divider" class="split-divider"></div>
      <div id="preview" class="column preview-pane" style="display: flex; flex-direction: column; height: 100%;">
        <div id="tab-controls" style="display: flex; border-bottom: 1px solid #444;">
          <button id="tab-preview" class="tab-btn" style="padding: 0.5em 1.2em; border: none; background: #222; color: #fff; cursor: pointer; border-top-left-radius: 6px; border-top-right-radius: 6px;">Preview</button>
          <button id="tab-puppeteer" class="tab-btn" style="padding: 0.5em 1.2em; border: none; background: #333; color: #fff; cursor: pointer; border-top-left-radius: 6px; border-top-right-radius: 6px;">Puppeteer Results</button>
        </div>
        <div id="tab-content-preview" style="flex:1; overflow:auto;">
          <div id="preview-wrapper">
            <div id="output" class="content markdown-body"></div>
          </div>
        </div>
        <div id="tab-content-puppeteer" style="display:none; flex:1; overflow:auto; background:#181a1b; color:#eee; padding:2em;">
          <h2>Puppeteer Extraction Results (Simulated)</h2>
          <div id="puppeteer-results">
            <!-- Puppeteer results will be injected here -->
          </div>
        </div>
      </div>
    </div>

    <div id="container" class="split-container">
      <div id="edit" class="column editor-pane">
        <div id="editor-wrapper">
          <textarea id="editor" placeholder="Write your markdown or HTML here..." required></textarea>
          <div id="editor-error" style="color:red;display:none;font-size:0.95em;margin-top:4px;"></div>
        </div>
      </div>
      <div id="split-divider" class="split-divider"></div>
      <div id="preview" class="column preview-pane">
        <div id="preview-wrapper">
          <div id="output" class="content markdown-body"></div>
        </div>
      </div>
    </div>

    <!-- Code editor popup is now in news-extractor-code-popup.html -->
    <footer class="bbc-footer">&copy; 2025 News Extractor | Inspired by BBC News</footer>
    <div id="statusbar" style="position: fixed; left: 0; right: 0; bottom: 0; height: 26px; background: #222; color: #eee; display: flex; align-items: center; font-size: 0.95em; z-index: 100; border-top: 1px solid #444;">
      <div id="statusbar-linecol" style="padding: 0 1em;">Ln 1, Col 1</div>
      <div id="statusbar-mode" style="padding: 0 1em; border-left: 1px solid #444;">Markdown</div>
      <div id="statusbar-caps" style="padding: 0 1em; border-left: 1px solid #444;">CAPS</div>
      <div id="statusbar-num" style="padding: 0 1em; border-left: 1px solid #444;">NUM</div>
    </div>
    <!-- CodeMirror and other scripts will be loaded in JS -->
    <script src="news-extractor-web.js"></script>
  </body>
</html>
